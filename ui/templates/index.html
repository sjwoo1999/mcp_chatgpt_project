# 📁 파일: ui/templates/index.html

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>MCP 에이전트 인터페이스</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <h1>🛠️ MCP 에이전트 도구 실행</h1>
    <p>아래 버튼을 눌러 실행할 도구를 선택하세요.</p>

    <div class="button-group">
      <button onclick="runTool('list')">list</button>
      <button onclick="runTool('read')">read</button>
      <button onclick="runTool('write')">write</button>
    </div>

    <div class="response">
      <h3>📤 결과 응답</h3>
      <pre id="result" class="output-box"></pre>
    </div>
  </div>

  <script>
    async function runTool(tool) {
      const res = await fetch("/ask", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({tool})
      });
      const data = await res.json();

      const box = document.getElementById("result");
      if (data.error) {
        box.textContent = `❌ 오류: ${data.response}`;
        box.style.color = "red";
      } else {
        box.textContent = `✅ 결과:\n${data.response}`;
        box.style.color = "black";
      }
    }
    window.addEventListener("DOMContentLoaded", async () => {
        const res = await fetch("/server-status");
        const data = await res.json();
        if (!data.exists) {
            alert("❌ MCP 서버 파일이 존재하지 않습니다. 경로를 확인하세요.");
        }
    });
  </script>
</body>
</html>