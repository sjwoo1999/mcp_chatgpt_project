# π“ νμΌ: ui/templates/index.html

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>MCP μ—μ΄μ „νΈ μΈν„°νμ΄μ¤</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <h1>π› οΈ MCP μ—μ΄μ „νΈ λ„κµ¬ μ‹¤ν–‰</h1>
    <p>μ•„λ λ²„νΌμ„ λλ¬ μ‹¤ν–‰ν•  λ„κµ¬λ¥Ό μ„ νƒν•μ„Έμ”.</p>

    <div class="button-group">
      <button onclick="runTool('list')">list</button>
      <button onclick="runTool('read')">read</button>
      <button onclick="runTool('write')">write</button>
    </div>

    <div class="response">
      <h3>π“¤ κ²°κ³Ό μ‘λ‹µ</h3>
      <pre id="result" class="output-box"></pre>
    </div>
  </div>

  <script>
    async function runTool(tool) {
      const res = await fetch("/ask", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({tool})
      });
      const data = await res.json();

      const box = document.getElementById("result");
      if (data.error) {
        box.textContent = `β μ¤λ¥: ${data.response}`;
        box.style.color = "red";
      } else {
        box.textContent = `β… κ²°κ³Ό:\n${data.response}`;
        box.style.color = "black";
      }
    }
    window.addEventListener("DOMContentLoaded", async () => {
        const res = await fetch("/server-status");
        const data = await res.json();
        if (!data.exists) {
            alert("β MCP μ„λ²„ νμΌμ΄ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤. κ²½λ΅λ¥Ό ν™•μΈν•μ„Έμ”.");
        }
    });
  </script>
</body>
</html>